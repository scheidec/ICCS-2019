# Chunk 25
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0024-Data.rda")
select(da21661.0024, COUNTRY, IDCNTRY, BS3B1)
# Chunk 26
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0025-Data.rda")
select(da21661.0025, COUNTRY, IDCNTRY, BS3B1)
# Chunk 27
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0026-Data.rda")
select(da21661.0026, COUNTRY, IDCNTRY, BS3B1)
# Chunk 28
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0027-Data.rda")
select(da21661.0027, COUNTRY, IDCNTRY, BS3B1)
# Chunk 29
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0028-Data.rda")
select(da21661.0028, COUNTRY, IDCNTRY, BS3B1)
# Chunk 30
tbl<-rbind (da21661.0001,da21661.0002,da21661.0003,da21661.0004,da21661.0005,da21661.0006,da21661.0007,da21661.0008,da21661.0009,da21661.0010,da21661.0011,da21661.0012,da21661.0013,da21661.0014,da21661.0015,da21661.0016,da21661.0017,da21661.0018,da21661.0019,da21661.0020,da21661.0021,da21661.0022,da21661.0023,da21661.0024,da21661.0025,da21661.0026,da21661.0027,da21661.0028)
tbl_reduced <- tbl[,c("COUNTRY", "IDCNTRY", "IDSTUD", "BS3B1", "BS3B2", "BS3B3", "BS3B4", "BS3B5", "BS3B6","BS3B8", "BS3B9", "BS3B10", "BS3B11", "BS3B12", "BS3B13")]
varnames<-c("COUNTRY", "IDCNTRY", "IDSTUD", "BS3B1", "BS3B2", "BS3B3", "BS3B4", "BS3B5", "BS3B6","BS3B8", "BS3B9", "BS3B10", "BS3B11", "BS3B12", "BS3B13")
head(tbl_reduced)
View(tbl_reduced)
rm(list=ls())
tbl <- tbl %>%
mutate(BS3B1_binary=as.numeric(BS3B1=="not important"))
tbl <- tbl %>%
mutate(BS3B1_binary=as.numeric(BS3B1=="not important"))
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
# Chunk 2
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0001-Data.rda")
select(da21661.0001, COUNTRY, IDCNTRY, BS3B1)
# Chunk 3
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0002-Data.rda")
select(da21661.0002, COUNTRY, IDCNTRY, BS3B1)
# Chunk 4
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0003-Data.rda")
select(da21661.0003, COUNTRY, IDCNTRY, BS3B1)
# Chunk 5
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0004-Data.rda")
select(da21661.0004, COUNTRY, IDCNTRY, BS3B1)
# Chunk 6
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0005-Data.rda")
select(da21661.0005, COUNTRY, IDCNTRY, BS3B1)
# Chunk 7
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0006-Data.rda")
select(da21661.0006, COUNTRY, IDCNTRY, BS3B1)
# Chunk 8
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0007-Data.rda")
select(da21661.0007, COUNTRY, IDCNTRY, BS3B1)
# Chunk 9
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0008-Data.rda")
select(da21661.0008, COUNTRY, IDCNTRY, BS3B1)
# Chunk 10
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0009-Data.rda")
select(da21661.0009, COUNTRY, IDCNTRY, BS3B1)
# Chunk 11
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0010-Data.rda")
select(da21661.0010, COUNTRY, IDCNTRY, BS3B1)
# Chunk 12
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0011-Data.rda")
select(da21661.0011, COUNTRY, IDCNTRY, BS3B1)
# Chunk 13
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0012-Data.rda")
select(da21661.0012, COUNTRY, IDCNTRY, BS3B1)
# Chunk 14
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0013-Data.rda")
select(da21661.0013, COUNTRY, IDCNTRY, BS3B1)
# Chunk 15
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0014-Data.rda")
select(da21661.0014, COUNTRY, IDCNTRY, BS3B1)
# Chunk 16
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0015-Data.rda")
select(da21661.0015, COUNTRY, IDCNTRY, BS3B1)
# Chunk 17
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0016-Data.rda")
select(da21661.0016, COUNTRY, IDCNTRY, BS3B1)
# Chunk 18
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0017-Data.rda")
select(da21661.0017, COUNTRY, IDCNTRY, BS3B1)
# Chunk 19
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0018-Data.rda")
select(da21661.0018, COUNTRY, IDCNTRY, BS3B1)
# Chunk 20
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0019-Data.rda")
select(da21661.0019, COUNTRY, IDCNTRY, BS3B1)
# Chunk 21
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0020-Data.rda")
select(da21661.0020, COUNTRY, IDCNTRY, BS3B1)
# Chunk 22
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0021-Data.rda")
select(da21661.0021, COUNTRY, IDCNTRY, BS3B1)
# Chunk 23
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0022-Data.rda")
select(da21661.0022, COUNTRY, IDCNTRY, BS3B1)
# Chunk 24
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0023-Data.rda")
select(da21661.0023, COUNTRY, IDCNTRY, BS3B1)
# Chunk 25
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0024-Data.rda")
select(da21661.0024, COUNTRY, IDCNTRY, BS3B1)
# Chunk 26
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0025-Data.rda")
select(da21661.0025, COUNTRY, IDCNTRY, BS3B1)
# Chunk 27
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0026-Data.rda")
select(da21661.0026, COUNTRY, IDCNTRY, BS3B1)
# Chunk 28
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0027-Data.rda")
select(da21661.0027, COUNTRY, IDCNTRY, BS3B1)
# Chunk 29
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0028-Data.rda")
select(da21661.0028, COUNTRY, IDCNTRY, BS3B1)
# Chunk 30
tbl<-rbind (da21661.0001,da21661.0002,da21661.0003,da21661.0004,da21661.0005,da21661.0006,da21661.0007,da21661.0008,da21661.0009,da21661.0010,da21661.0011,da21661.0012,da21661.0013,da21661.0014,da21661.0015,da21661.0016,da21661.0017,da21661.0018,da21661.0019,da21661.0020,da21661.0021,da21661.0022,da21661.0023,da21661.0024,da21661.0025,da21661.0026,da21661.0027,da21661.0028)
# Chunk 31
tbl = cbind(1,tbl)
colnames(tbl)[1]<-"ICCS Year"
tbl <- tbl %>%
mutate(BS3B1_binary=as.numeric(BS3B1=="not important"))
View(tbl)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
rm(list=ls())
a=2
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
getwd()
load("../data/21661-0001-Data.rda")
select(da21661.0001, COUNTRY, IDCNTRY, BS3B1)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
load("../data/21661-0001-Data.rda")
select(da21661.0001, COUNTRY, IDCNTRY, BS3B1)
files<-list.files("../data")
files<-list.files("../data", full.names = T)
library(purrr)
map(files, load)
da37147.0087
lapply(files, load)
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(purrr)
# Chunk 3
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0001-Data.rda")
select(da21661.0001, COUNTRY, IDCNTRY, BS3B1)
# Chunk 4
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0002-Data.rda")
select(da21661.0002, COUNTRY, IDCNTRY, BS3B1)
# Chunk 5
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0003-Data.rda")
select(da21661.0003, COUNTRY, IDCNTRY, BS3B1)
# Chunk 6
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0004-Data.rda")
select(da21661.0004, COUNTRY, IDCNTRY, BS3B1)
# Chunk 7
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0005-Data.rda")
select(da21661.0005, COUNTRY, IDCNTRY, BS3B1)
# Chunk 8
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0006-Data.rda")
select(da21661.0006, COUNTRY, IDCNTRY, BS3B1)
# Chunk 9
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0007-Data.rda")
select(da21661.0007, COUNTRY, IDCNTRY, BS3B1)
# Chunk 10
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0008-Data.rda")
select(da21661.0008, COUNTRY, IDCNTRY, BS3B1)
# Chunk 11
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0009-Data.rda")
select(da21661.0009, COUNTRY, IDCNTRY, BS3B1)
# Chunk 12
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0010-Data.rda")
select(da21661.0010, COUNTRY, IDCNTRY, BS3B1)
# Chunk 13
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0011-Data.rda")
select(da21661.0011, COUNTRY, IDCNTRY, BS3B1)
# Chunk 14
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0012-Data.rda")
select(da21661.0012, COUNTRY, IDCNTRY, BS3B1)
# Chunk 15
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0013-Data.rda")
select(da21661.0013, COUNTRY, IDCNTRY, BS3B1)
# Chunk 16
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0014-Data.rda")
select(da21661.0014, COUNTRY, IDCNTRY, BS3B1)
# Chunk 17
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0015-Data.rda")
select(da21661.0015, COUNTRY, IDCNTRY, BS3B1)
# Chunk 18
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0016-Data.rda")
select(da21661.0016, COUNTRY, IDCNTRY, BS3B1)
# Chunk 19
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0017-Data.rda")
select(da21661.0017, COUNTRY, IDCNTRY, BS3B1)
# Chunk 20
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0018-Data.rda")
select(da21661.0018, COUNTRY, IDCNTRY, BS3B1)
# Chunk 21
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0019-Data.rda")
select(da21661.0019, COUNTRY, IDCNTRY, BS3B1)
# Chunk 22
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0020-Data.rda")
select(da21661.0020, COUNTRY, IDCNTRY, BS3B1)
# Chunk 23
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0021-Data.rda")
select(da21661.0021, COUNTRY, IDCNTRY, BS3B1)
# Chunk 24
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0022-Data.rda")
select(da21661.0022, COUNTRY, IDCNTRY, BS3B1)
# Chunk 25
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0023-Data.rda")
select(da21661.0023, COUNTRY, IDCNTRY, BS3B1)
# Chunk 26
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0024-Data.rda")
select(da21661.0024, COUNTRY, IDCNTRY, BS3B1)
# Chunk 27
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0025-Data.rda")
select(da21661.0025, COUNTRY, IDCNTRY, BS3B1)
# Chunk 28
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0026-Data.rda")
select(da21661.0026, COUNTRY, IDCNTRY, BS3B1)
# Chunk 29
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0027-Data.rda")
select(da21661.0027, COUNTRY, IDCNTRY, BS3B1)
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(purrr)
# Chunk 3
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0001-Data.rda")
select(da21661.0001, COUNTRY, IDCNTRY, BS3B1)
# Chunk 4
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0002-Data.rda")
select(da21661.0002, COUNTRY, IDCNTRY, BS3B1)
# Chunk 5
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0003-Data.rda")
select(da21661.0003, COUNTRY, IDCNTRY, BS3B1)
# Chunk 6
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0004-Data.rda")
select(da21661.0004, COUNTRY, IDCNTRY, BS3B1)
# Chunk 7
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0005-Data.rda")
select(da21661.0005, COUNTRY, IDCNTRY, BS3B1)
# Chunk 8
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0006-Data.rda")
select(da21661.0006, COUNTRY, IDCNTRY, BS3B1)
# Chunk 9
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0007-Data.rda")
select(da21661.0007, COUNTRY, IDCNTRY, BS3B1)
# Chunk 10
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0008-Data.rda")
select(da21661.0008, COUNTRY, IDCNTRY, BS3B1)
# Chunk 11
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0009-Data.rda")
select(da21661.0009, COUNTRY, IDCNTRY, BS3B1)
# Chunk 12
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0010-Data.rda")
select(da21661.0010, COUNTRY, IDCNTRY, BS3B1)
# Chunk 13
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0011-Data.rda")
select(da21661.0011, COUNTRY, IDCNTRY, BS3B1)
# Chunk 14
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0012-Data.rda")
select(da21661.0012, COUNTRY, IDCNTRY, BS3B1)
# Chunk 15
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0013-Data.rda")
select(da21661.0013, COUNTRY, IDCNTRY, BS3B1)
# Chunk 16
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0014-Data.rda")
select(da21661.0014, COUNTRY, IDCNTRY, BS3B1)
# Chunk 17
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0015-Data.rda")
select(da21661.0015, COUNTRY, IDCNTRY, BS3B1)
# Chunk 18
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0016-Data.rda")
select(da21661.0016, COUNTRY, IDCNTRY, BS3B1)
# Chunk 19
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0017-Data.rda")
select(da21661.0017, COUNTRY, IDCNTRY, BS3B1)
# Chunk 20
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0018-Data.rda")
select(da21661.0018, COUNTRY, IDCNTRY, BS3B1)
# Chunk 21
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0019-Data.rda")
select(da21661.0019, COUNTRY, IDCNTRY, BS3B1)
# Chunk 22
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0020-Data.rda")
select(da21661.0020, COUNTRY, IDCNTRY, BS3B1)
# Chunk 23
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0021-Data.rda")
select(da21661.0021, COUNTRY, IDCNTRY, BS3B1)
# Chunk 24
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0022-Data.rda")
select(da21661.0022, COUNTRY, IDCNTRY, BS3B1)
# Chunk 25
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0023-Data.rda")
select(da21661.0023, COUNTRY, IDCNTRY, BS3B1)
# Chunk 26
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0024-Data.rda")
select(da21661.0024, COUNTRY, IDCNTRY, BS3B1)
# Chunk 27
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0025-Data.rda")
select(da21661.0025, COUNTRY, IDCNTRY, BS3B1)
# Chunk 28
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0026-Data.rda")
select(da21661.0026, COUNTRY, IDCNTRY, BS3B1)
# Chunk 29
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0027-Data.rda")
select(da21661.0027, COUNTRY, IDCNTRY, BS3B1)
# Chunk 30
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0028-Data.rda")
select(da21661.0028, COUNTRY, IDCNTRY, BS3B1)
tbl<-rbind (da21661.0001,da21661.0002,da21661.0003,da21661.0004,da21661.0005,da21661.0006,da21661.0007,da21661.0008,da21661.0009,da21661.0010,da21661.0011,da21661.0012,da21661.0013,da21661.0014,da21661.0015,da21661.0016,da21661.0017,da21661.0018,da21661.0019,da21661.0020,da21661.0021,da21661.0022,da21661.0023,da21661.0024,da21661.0025,da21661.0026,da21661.0027,da21661.0028)
View(tbl)
tbl = cbind(1,tbl)
colnames(tbl)[1]<-"ICCS Year"
map
map(tbl,class)
tbl<- select(tbl,-`ICCS Year`)
names(tbl)
tbl <- tbl  %>%
mutate(`ICCS Year` = 1) %>%
select(`ICCS Year`, everything())
names(tbl)
head(tbl)
head(tbl) %>% View
select(tbl,`ICCS Year`) %>% head()
tbl_reduced <- tbl[,c("COUNTRY", "IDCNTRY", "IDSTUD", "BS3B1", "BS3B2", "BS3B3", "BS3B4", "BS3B5", "BS3B6","BS3B8", "BS3B9", "BS3B10", "BS3B11", "BS3B12", "BS3B13")]
varnames<-c("COUNTRY", "IDCNTRY", "IDSTUD", "BS3B1", "BS3B2", "BS3B3", "BS3B4", "BS3B5", "BS3B6","BS3B8", "BS3B9", "BS3B10", "BS3B11", "BS3B12", "BS3B13")
head(tbl_reduced)
is.factor(tbl_reduced$BS3B1)
summary(tbl_reduced$BS3B1)
tbl_reduced$BS3B1 =  mapping[ tbl_reduced$BS3B1]
tbl_reduced$BS3B2 =  mapping[ tbl_reduced$BS3B2]
tbl_reduced$BS3B3 =  mapping[ tbl_reduced$BS3B3]
tbl_reduced$BS3B4 =  mapping[ tbl_reduced$BS3B4]
tbl_reduced$BS3B5 =  mapping[ tbl_reduced$BS3B5]
tbl_reduced$BS3B6 =  mapping[ tbl_reduced$BS3B6]
tbl_reduced$BS3B8 =  mapping[ tbl_reduced$BS3B8]
tbl_reduced$BS3B9 =  mapping[ tbl_reduced$BS3B9]
tbl_reduced$BS3B10 =  mapping[ tbl_reduced$BS3B10]
tbl_reduced$BS3B11 =  mapping[ tbl_reduced$BS3B11]
tbl_reduced$BS3B12 =  mapping[ tbl_reduced$BS3B12]
tbl_reduced$BS3B13 =  mapping[ tbl_reduced$BS3B13]
mapping <- c("not important" = 0, "mostly unimportant" = 0, "mostly important" = 1, "very important" = 1)
tbl_reduced$BS3B1 =  mapping[ tbl_reduced$BS3B1]
tbl_reduced$BS3B2 =  mapping[ tbl_reduced$BS3B2]
tbl_reduced$BS3B3 =  mapping[ tbl_reduced$BS3B3]
tbl_reduced$BS3B4 =  mapping[ tbl_reduced$BS3B4]
tbl_reduced$BS3B5 =  mapping[ tbl_reduced$BS3B5]
tbl_reduced$BS3B6 =  mapping[ tbl_reduced$BS3B6]
tbl_reduced$BS3B8 =  mapping[ tbl_reduced$BS3B8]
tbl_reduced$BS3B9 =  mapping[ tbl_reduced$BS3B9]
tbl_reduced$BS3B10 =  mapping[ tbl_reduced$BS3B10]
tbl_reduced$BS3B11 =  mapping[ tbl_reduced$BS3B11]
tbl_reduced$BS3B12 =  mapping[ tbl_reduced$BS3B12]
tbl_reduced$BS3B13 =  mapping[ tbl_reduced$BS3B13]
table(tbl_reduced$BS3B1,tbl$BS3B1)
tbl <-tbl %>%
mutate (BS3B1_binary = fct_collapse(BS3B1,
"less important"=c("not important", "mostly unimportant"),
"more important"=c("mostly important", "very important")))
tbl %>% count(BS3B1)
tbl <-tbl %>%
mutate (BS3B1_binary = fct_collapse(BS3B1,
"less important"=c("(1) not important", "(2) mostly unimportant"),
"more important"=c("(3) mostly important", "(4) very important")))
tbl <-tbl %>%
mutate (BS3B1_binary = fct_collapse(BS3B1,
"less important"=c("(1) not important", "(2) somewhat unimportant"),
"more important"=c("(3) somewhat important", "(4) very important")))
tbl %>% count(BS3B1,BS3B1_binary)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(purrr)
files<-list.files("../data", full.names = T)
fancy_loader <- function(file) {
e <- new.env()
load(file, envir = e)
stopifnot(length(e) == 1)  # safety first
get(names(e)[1], envir = e)
}
map(files, fancy_loader)
ls()
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(purrr)
# Chunk 3
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0001-Data.rda")
select(da21661.0001, COUNTRY, IDCNTRY, BS3B1)
# Chunk 4
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0002-Data.rda")
select(da21661.0002, COUNTRY, IDCNTRY, BS3B1)
# Chunk 5
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0003-Data.rda")
select(da21661.0003, COUNTRY, IDCNTRY, BS3B1)
# Chunk 6
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0004-Data.rda")
select(da21661.0004, COUNTRY, IDCNTRY, BS3B1)
# Chunk 7
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0005-Data.rda")
select(da21661.0005, COUNTRY, IDCNTRY, BS3B1)
# Chunk 8
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0006-Data.rda")
select(da21661.0006, COUNTRY, IDCNTRY, BS3B1)
# Chunk 9
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0007-Data.rda")
select(da21661.0007, COUNTRY, IDCNTRY, BS3B1)
# Chunk 10
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0008-Data.rda")
select(da21661.0008, COUNTRY, IDCNTRY, BS3B1)
# Chunk 11
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0009-Data.rda")
select(da21661.0009, COUNTRY, IDCNTRY, BS3B1)
# Chunk 12
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0010-Data.rda")
select(da21661.0010, COUNTRY, IDCNTRY, BS3B1)
# Chunk 13
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0011-Data.rda")
select(da21661.0011, COUNTRY, IDCNTRY, BS3B1)
# Chunk 14
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0012-Data.rda")
select(da21661.0012, COUNTRY, IDCNTRY, BS3B1)
# Chunk 15
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0013-Data.rda")
select(da21661.0013, COUNTRY, IDCNTRY, BS3B1)
# Chunk 16
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0014-Data.rda")
select(da21661.0014, COUNTRY, IDCNTRY, BS3B1)
# Chunk 17
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0015-Data.rda")
select(da21661.0015, COUNTRY, IDCNTRY, BS3B1)
# Chunk 18
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0016-Data.rda")
select(da21661.0016, COUNTRY, IDCNTRY, BS3B1)
# Chunk 19
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0017-Data.rda")
select(da21661.0017, COUNTRY, IDCNTRY, BS3B1)
# Chunk 20
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0018-Data.rda")
select(da21661.0018, COUNTRY, IDCNTRY, BS3B1)
# Chunk 21
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0019-Data.rda")
select(da21661.0019, COUNTRY, IDCNTRY, BS3B1)
# Chunk 22
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0020-Data.rda")
select(da21661.0020, COUNTRY, IDCNTRY, BS3B1)
# Chunk 23
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0021-Data.rda")
select(da21661.0021, COUNTRY, IDCNTRY, BS3B1)
# Chunk 24
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0022-Data.rda")
select(da21661.0022, COUNTRY, IDCNTRY, BS3B1)
# Chunk 25
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0023-Data.rda")
select(da21661.0023, COUNTRY, IDCNTRY, BS3B1)
# Chunk 26
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0024-Data.rda")
select(da21661.0024, COUNTRY, IDCNTRY, BS3B1)
# Chunk 27
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0025-Data.rda")
select(da21661.0025, COUNTRY, IDCNTRY, BS3B1)
# Chunk 28
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0026-Data.rda")
select(da21661.0026, COUNTRY, IDCNTRY, BS3B1)
# Chunk 29
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0027-Data.rda")
select(da21661.0027, COUNTRY, IDCNTRY, BS3B1)
# Chunk 30
load("c:/Users/user/Documents/GitHub/ICCS/data/21661-0028-Data.rda")
select(da21661.0028, COUNTRY, IDCNTRY, BS3B1)
# Chunk 31
tbl<-rbind (da21661.0001,da21661.0002,da21661.0003,da21661.0004,da21661.0005,da21661.0006,da21661.0007,da21661.0008,da21661.0009,da21661.0010,da21661.0011,da21661.0012,da21661.0013,da21661.0014,da21661.0015,da21661.0016,da21661.0017,da21661.0018,da21661.0019,da21661.0020,da21661.0021,da21661.0022,da21661.0023,da21661.0024,da21661.0025,da21661.0026,da21661.0027,da21661.0028)
# Chunk 32
tbl <- tbl  %>%
mutate(`ICCS Year` = 1) %>%
select(`ICCS Year`, everything())
tbl <-tbl %>%
mutate_at (vars(BS3B1, BS3B2, BS3B3, BS3B4, BS3B5, BS3B6,BS3B8, BS3B9, BS3B10, BS3B11, BS3B12, BS3B13),
funs(bin_ = fct_collapse(.,
"less important"=c("(1) not important", "(2) somewhat unimportant"),
"more important"=c("(3) somewhat important", "(4) very important")))
)
select(tbl,BS3B1, BS3B2, BS3B3, BS3B4, BS3B5, BS3B6,BS3B8, BS3B9, BS3B10, BS3B11, BS3B12, BS3B13) %>% map(levels)
tbl <-tbl %>%
mutate_at (vars(BS3B1, BS3B2),
funs(bin_ = fct_collapse(.,
"less important"=c("(1) not important", "(2) somewhat unimportant"),
"more important"=c("(3) somewhat important", "(4) very important")))
)
View(tbl)
tbl %>% count(BS3B1,BS3B1_bin_)
tbl <-tbl %>%
mutate_at (vars(BS3B1, BS3B2,BS3B3, BS3B4, BS3B5, BS3B6,BS3B8, BS3B9, BS3B10, BS3B11, BS3B13),
funs(bin = fct_collapse(.,
"less important"=c("(1) not important", "(2) somewhat unimportant"),
"more important"=c("(3) somewhat important", "(4) very important")))
)
tbl %>% select(vote=BS3B1_bin)
tbl %>% select(vote=BS3B1_bin) %>% head
tbl %>% select(vote=BS3B1_bin) %>% as_tibble %>% head
tbl %>% select(vote=BS3B1_bin,law=BS3B2_bin) %>% as_tibble %>% head
